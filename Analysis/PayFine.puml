@startuml PayFine
' ================================================
' Robustness Diagram: Pay Fine
' Library Management System | Prof. Walt Melo
' Group: G25
' ================================================

skinparam defaultFontSize 12
skinparam defaultFontName Arial

' Actors
actor Member

' Boundary Objects (UI Elements)
boundary "Fine\nPayment\nScreen" as PaymentScreen
boundary "Payment\nMethod Form" as PaymentForm
boundary "Payment\nConfirmation" as ConfirmDialog
boundary "Receipt\nPrinter" as ReceiptPrinter

' Control Objects (Business Logic)
control "Payment\nController" as PaymentController
control "Payment\nProcessor" as PaymentProcessor
control "Receipt\nGenerator" as ReceiptGenerator

' Entity Objects (Domain Model)
entity "Fine Record" as FineRecord
entity "Member" as MemberEntity
entity "Payment\nTransaction" as PaymentTrans
entity "Account\nLedger" as AccountLedger

' Interactions
note right of PaymentScreen
  **Extension Point**
  This use case extends from
  Return Book when fine is due
end note

Member -> PaymentScreen : View outstanding fines
PaymentScreen -> PaymentController : Request fine details
PaymentController -> FineRecord : Retrieve member's fines
FineRecord -> MemberEntity : Get member information

PaymentController -> PaymentScreen : Display fine amount & details

Member -> PaymentForm : Select payment method\n(Cash, Card, Online)
PaymentForm -> PaymentController : Submit payment details

PaymentController -> PaymentProcessor : Process payment
PaymentProcessor -> PaymentTrans : Create payment record
PaymentProcessor -> AccountLedger : Update financial records
PaymentProcessor -> PaymentController : Confirm payment success

PaymentController -> FineRecord : Mark fine as paid
FineRecord -> MemberEntity : Update member status

PaymentController -> ReceiptGenerator : Generate payment receipt
ReceiptGenerator -> ConfirmDialog : Provide receipt details
ConfirmDialog -> Member : Display confirmation

Member -> ReceiptPrinter : Request printed receipt
ReceiptPrinter -> Member : Provide payment receipt

@enduml
